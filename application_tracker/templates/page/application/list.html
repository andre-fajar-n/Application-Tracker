{% extends '../../component/list_table.html' %}
{% load custom_filters %}

{% block title %}
<title>List Application</title>
{% endblock %}

{% block table_title %}
<h3 class="m-2">Application</h3>
{% endblock %}

{% block table_header %}
<tr>
    <th scope="col">No</th>
    <th scope="col"><a href="?sort=id&direction={{ current_direction|toggle_sort_direction }}">
        ID 
        {% if current_sort == 'id' %}
            <i class="fa {{ current_direction|show_arrow_order_by }}"></i>
        {% endif %}
    </a></th>
    
    <th scope="col"><a href="?sort=position&direction={{ current_direction|toggle_sort_direction }}">
        Position
        {% if current_sort == 'position' %}
            <i class="fa {{ current_direction|show_arrow_order_by }}"></i>
        {% endif %}
    </a></th>
    <th scope="col"><a href="?sort=company&direction={{ current_direction|toggle_sort_direction }}">
        Company
        {% if current_sort == 'company' %}
            <i class="fa {{ current_direction|show_arrow_order_by }}"></i>
        {% endif %}
    </a></th>
    <th scope="col"><a href="?sort=platform&direction={{ current_direction|toggle_sort_direction }}">
        Platform
        {% if current_sort == 'platform' %}
            <i class="fa {{ current_direction|show_arrow_order_by }}"></i>
        {% endif %}
    </a></th>
    <th scope="col"><a href="?sort=last_status&direction={{ current_direction|toggle_sort_direction }}">
        Last Status
        {% if current_sort == 'last_status' %}
            <i class="fa {{ current_direction|show_arrow_order_by }}"></i>
        {% endif %}
    </a></th>
    <th scope="col"><a href="?sort=last_updated&direction={{ current_direction|toggle_sort_direction }}">
        Last Updated
        {% if current_sort == 'last_updated' %}
            <i class="fa {{ current_direction|show_arrow_order_by }}"></i>
        {% endif %}
    </a></th>
    <th scope="col">Actions</th>
</tr>
{% endblock %}

{% block table_data %}
    {% for item in pagination_data %}
    <tr>
        <td>{{pagination_data.start_index|add:forloop.counter0}}</td>
        <td>{{item.id}}</td>
        <td>{{item.position}}</td>
        <td>{{item.company}}</td>
        <td>{{item.platform}}</td>
        <td>{{item.last_status}}</td>
        <td>{{item.last_updated}}</td>
        <td>
            <a href="{% url 'application_tracker:detail_application' item.id %}" class="me-4">
                <i class="fa fa-eye"></i>
            </a>
            <a href="{% url 'application_tracker:edit_application' item.id %}" class="me-4">
                <i class="fa fa-pencil-alt"></i>
            </a>
            <a href="{% url 'application_tracker:delete_application' item.id %}">
                <i class="fa fa-eraser"></i>
            </a>
        </td>
    </tr>
    {% endfor %}
{% endblock %}